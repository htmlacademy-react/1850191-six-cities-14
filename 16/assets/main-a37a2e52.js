import{R as n,u,c as m,a as j,j as s,b as f,r as _,d as N,W as g,e as v}from"./index-3f7001c0.js";import{a as b,L as C,M as y}from"./map-33bcd4ff.js";function h(t=n){const a=t===n?u:m(t);return function(){const{store:e}=a();return e}}const S=h();function H(t=n){const a=t===n?S:h(t);return function(){return a().dispatch}}const I=H(),x=()=>I(),r=j,P=({locations:t})=>{const a=r(e=>e.currentCity),c=x();return s.jsx("div",{className:"tabs",children:s.jsx("section",{className:"locations container",children:s.jsx("ul",{className:"locations__list tabs__list",children:t.map(e=>{const o=e===a;return s.jsx("li",{className:"locations__item",children:s.jsx("a",{className:`
                    locations__item-link
                    tabs__item
                    ${o?"tabs__item--active":""}
                  `,href:`#${e}`,onClick:l=>{l.preventDefault(),c(f(e))},children:s.jsx("span",{children:e})})},e)})})})})},R=()=>s.jsxs("form",{className:"places__sorting",action:"#",method:"get",children:[s.jsx("span",{className:"places__sorting-caption",children:"Sort by"}),s.jsxs("span",{className:"places__sorting-type",tabIndex:0,children:["Popular",s.jsx("svg",{className:"places__sorting-arrow",width:7,height:4,children:s.jsx("use",{xlinkHref:"#icon-arrow-select"})})]}),s.jsxs("ul",{className:"places__options places__options--custom places__options--opened",children:[s.jsx("li",{className:"places__option places__option--active",tabIndex:0,children:"Popular"}),s.jsx("li",{className:"places__option",tabIndex:0,children:"Price: low to high"}),s.jsx("li",{className:"places__option",tabIndex:0,children:"Price: high to low"}),s.jsx("li",{className:"places__option",tabIndex:0,children:"Top rated first"})]})]}),D=()=>{var p;const t=x(),a=r(i=>i.currentCity),c=r(i=>i.offers),[e,o]=_.useState(null);_.useEffect(()=>{t(N(a))},[a,t]);function l(i){o(i)}const d=(p=c[0])==null?void 0:p.city;return s.jsxs(s.Fragment,{children:[s.jsx(g,{children:s.jsx("title",{children:"6 cities"})}),s.jsx("h1",{className:"visually-hidden",children:"Cities"}),s.jsx(P,{locations:v}),s.jsx("div",{className:"cities",children:s.jsxs("div",{className:"cities__places-container container",children:[s.jsxs("section",{className:"cities__places places",children:[s.jsx("h2",{className:"visually-hidden",children:"Places"}),s.jsxs("b",{className:"places__found",children:[c.length," place",b(c.length)," to stay in ",a]}),s.jsx(R,{}),s.jsx("div",{className:"cities__places-list places__list tabs__content",style:{maxHeight:"666px"},children:s.jsx(C,{offers:c,onCardHover:l,className:"cities__card"})})]}),s.jsx("div",{className:"cities__right-section",children:d&&s.jsx(y,{city:d,offers:c,hoveredOfferId:e,className:"cities__map"})})]})})]})};export{D as default};
