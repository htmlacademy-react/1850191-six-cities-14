import{E as d,F as p,G as h,H as _,I as g,A as x,J as j,g as N,t as f,a as v,r,j as s,K as w,O as c,L as y,c as S,W as b}from"./index-254e73e7.js";const L=d("redirectToRoute"),A=p("authorization/login",async(a,{dispatch:e,extra:{api:n}})=>{const i=(await n.post(h.Login,a)).data;return _(i.token),e(g(x.Auth)),e(j({user:i,status:"success"})),e(N()),e(L(f.Main)),i}),k=()=>{const a=v(),[e,n]=r.useState(""),[t,i]=r.useState(""),[l,u]=r.useState(""),m=o=>{if(o.preventDefault(),!t.trim()){u("Пароль не должен состоять только из пробелов.");return}a(A({email:e,password:t}))};return s.jsxs("section",{className:"login",children:[s.jsx("h1",{className:"login__title",children:"Sign in"}),s.jsxs("form",{className:"login__form form",onSubmit:m,children:[s.jsxs("div",{className:"login__input-wrapper form__input-wrapper",children:[s.jsx("label",{className:"visually-hidden",children:"E-mail"}),s.jsx("input",{className:"login__input form__input",type:"email",name:"email",placeholder:"Email",required:!0,value:e,onChange:o=>n(o.target.value)})]}),s.jsxs("div",{className:"login__input-wrapper form__input-wrapper",children:[s.jsx("label",{className:"visually-hidden",children:"Password"}),s.jsx("input",{className:"login__input form__input",type:"password",name:"password",placeholder:"Password",required:!0,value:t,onChange:o=>i(o.target.value)})]}),l&&s.jsx("p",{className:"login__error",children:l}),s.jsx("button",{className:"login__submit form__submit button",type:"submit",children:"Sign in"})]})]})},C=()=>{const a=w(),e=r.useMemo(()=>{const t=Math.floor(Math.random()*c.length);return c[t]},[]),n=()=>{a(S(e))};return s.jsx("section",{className:"locations locations--login locations--current",children:s.jsx("div",{className:"locations__item",children:s.jsx(y,{to:"/",className:"locations__item-link",onClick:n,children:s.jsx("span",{children:e})})})})},R=()=>s.jsxs("div",{className:"page__login-container container",children:[s.jsx(b,{children:s.jsx("title",{children:"6 cities-Login"})}),s.jsx(k,{}),s.jsx(C,{})]});export{R as default};
