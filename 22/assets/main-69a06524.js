import{C as g,r as n,u as r,a as _,c as f,j as s,b as y,S as p,d as m,W as h,e as b}from"./index-254e73e7.js";import{s as C,a as v,b as S,o as k,L as w,M as O}from"./map-746f635c.js";import"./cards-934b7f14.js";const D=Object.values(g),M=()=>D,x=n.memo(()=>{const a=r(M),l=r(C),c=_(),i=n.useCallback(e=>{c(f(e))},[c]);return s.jsx("div",{className:"tabs",children:s.jsx("section",{className:"locations container",children:s.jsx("ul",{className:"locations__list tabs__list",children:a.map(e=>{const o=e===l;return s.jsx("li",{className:"locations__item",children:s.jsx("a",{className:`locations__item-link tabs__item ${o?"tabs__item--active":""}`,href:`#${e}`,onClick:d=>{d.preventDefault(),i(e)},children:s.jsx("span",{children:e})})},e)})})})})});x.displayName="CityTabs";const j=n.memo(({activeSorting:a})=>{const l=_(),[c,i]=n.useState(!1),e={transform:`translateY(-50%) ${c?"rotate(180deg)":""}`},o=n.useCallback(t=>{t.key==="Escape"&&c&&(t.preventDefault(),i(!1))},[c]),d=n.useCallback(()=>{i(t=>!t)},[]),u=n.useCallback(t=>{l(y(t)),i(!1)},[l]);return s.jsxs("form",{className:"places__sorting",action:"#",method:"get",onKeyDown:o,children:[s.jsx("span",{className:"places__sorting-caption",children:"Sort by"}),s.jsxs("span",{className:"places__sorting-type",tabIndex:0,onClick:d,children:[p[a],s.jsx("svg",{className:"places__sorting-arrow",width:7,height:4,style:e,children:s.jsx("use",{xlinkHref:"#icon-arrow-select"})})]}),s.jsx("ul",{className:m("places__options","places__options--custom",{"places__options--opened":c}),children:Object.entries(p).map(([t,N])=>s.jsx("li",{className:m("places__option",{"places__option--active":a===t}),tabIndex:0,onClick:()=>u(t),children:N},t))})]})});j.displayName="Sorting";const A=()=>s.jsxs("main",{className:"page__main page__main--index page__main--index-empty",children:[s.jsx(h,{children:s.jsx("title",{children:"6 cities-empty"})}),s.jsx("h1",{className:"visually-hidden",children:"Cities-empty"}),s.jsx("div",{className:"cities",children:s.jsxs("div",{className:"cities__places-container cities__places-container--empty container",children:[s.jsx("section",{className:"cities__no-places",children:s.jsxs("div",{className:"cities__status-wrapper tabs__content",children:[s.jsx("b",{className:"cities__status",children:"No places to stay available"}),s.jsx("p",{className:"cities__status-description",children:"We could not find any property available at the moment in Dusseldorf"})]})}),s.jsx("div",{className:"cities__right-section"})]})})]}),L=()=>{var e;const a=r(v),l=r(S),c=r(k),i=(e=a[0])==null?void 0:e.city;return c?s.jsx(b,{}):a.length===0?s.jsx(A,{}):s.jsxs(s.Fragment,{children:[s.jsx(h,{children:s.jsx("title",{children:"6 cities"})}),s.jsx("h1",{className:"visually-hidden",children:"Cities"}),s.jsx(x,{}),s.jsx("div",{className:"cities",children:s.jsxs("div",{className:"cities__places-container container",children:[s.jsxs("section",{className:"cities__places places",children:[s.jsx("h2",{className:"visually-hidden",children:"Places"}),s.jsxs("b",{className:"places__found",children:[a.length," place",a.length!==1?"s":""," to stay in ",i==null?void 0:i.name]}),s.jsx(j,{activeSorting:l}),s.jsx("div",{className:"cities__places-list places__list tabs__content",children:s.jsx(w,{offers:a,cardType:"main"})})]}),s.jsx("div",{className:"cities__right-section",children:i&&s.jsx(O,{city:i,offers:a,className:"cities__map"})})]})})]})};export{L as default};
