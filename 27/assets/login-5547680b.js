import{G as d,H as p,I as h,J as _,K as g,z as x,N as j,g as N,A as f,a as v,r,j as s,O as w,P as c,L as y,c as S,W as b}from"./index-d8562256.js";const L=d("redirectToRoute"),A=p("authorization/login",async(t,{dispatch:e,extra:{api:n}})=>{const i=(await n.post(h.Login,t)).data;return _(i.token),e(g(x.Auth)),e(j({user:i,status:"success"})),e(N()),e(L(f.Main)),i}),k=()=>{const t=v(),[e,n]=r.useState(""),[a,i]=r.useState(""),[l,u]=r.useState(""),m=o=>{if(o.preventDefault(),!a.trim()){u("Пароль не должен состоять только из пробелов.");return}t(A({email:e,password:a}))};return s.jsxs("section",{className:"login",children:[s.jsx("h1",{className:"login__title",children:"Sign in"}),s.jsxs("form",{className:"login__form form",onSubmit:m,children:[s.jsxs("div",{className:"login__input-wrapper form__input-wrapper",children:[s.jsx("label",{className:"visually-hidden",children:"E-mail"}),s.jsx("input",{className:"login__input form__input",type:"email",name:"email",placeholder:"Email",required:!0,value:e,onChange:o=>n(o.target.value)})]}),s.jsxs("div",{className:"login__input-wrapper form__input-wrapper",children:[s.jsx("label",{className:"visually-hidden",children:"Password"}),s.jsx("input",{className:"login__input form__input",type:"password",name:"password",placeholder:"Password",required:!0,value:a,onChange:o=>i(o.target.value)})]}),l&&s.jsx("p",{className:"login__error",children:l}),s.jsx("button",{className:"login__submit form__submit button",type:"submit",children:"Sign in"})]})]})},C=()=>{const t=w(),e=r.useMemo(()=>{const a=Math.floor(Math.random()*c.length);return c[a]},[]),n=()=>{t(S(e))};return s.jsx("section",{className:"locations locations--login locations--current",children:s.jsx("div",{className:"locations__item",children:s.jsx(y,{to:"/",className:"locations__item-link",onClick:n,children:s.jsx("span",{children:e})})})})},P=()=>s.jsxs("div",{className:"page__login-container container",children:[s.jsx(b,{children:s.jsx("title",{children:"6 cities-Login"})}),s.jsx(k,{}),s.jsx(C,{})]});export{P as default};
