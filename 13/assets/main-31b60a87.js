import{j as s,L as h,A as p,M as x,r as m,a as N,W as g}from"./index-7932706f.js";import{l as o,u as b}from"./leaflet-f68699da.js";const f=()=>s.jsx("div",{className:"tabs",children:s.jsx("section",{className:"locations container",children:s.jsxs("ul",{className:"locations__list tabs__list",children:[s.jsx("li",{className:"locations__item",children:s.jsx("a",{className:"locations__item-link tabs__item",href:"#",children:s.jsx("span",{children:"Paris"})})}),s.jsx("li",{className:"locations__item",children:s.jsx("a",{className:"locations__item-link tabs__item",href:"#",children:s.jsx("span",{children:"Cologne"})})}),s.jsx("li",{className:"locations__item",children:s.jsx("a",{className:"locations__item-link tabs__item",href:"#",children:s.jsx("span",{children:"Brussels"})})}),s.jsx("li",{className:"locations__item",children:s.jsx("a",{className:"locations__item-link tabs__item tabs__item--active",children:s.jsx("span",{children:"Amsterdam"})})}),s.jsx("li",{className:"locations__item",children:s.jsx("a",{className:"locations__item-link tabs__item",href:"#",children:s.jsx("span",{children:"Hamburg"})})}),s.jsx("li",{className:"locations__item",children:s.jsx("a",{className:"locations__item-link tabs__item",href:"#",children:s.jsx("span",{children:"Dusseldorf"})})})]})})}),k=()=>s.jsxs("form",{className:"places__sorting",action:"#",method:"get",children:[s.jsx("span",{className:"places__sorting-caption",children:"Sort by"}),s.jsxs("span",{className:"places__sorting-type",tabIndex:0,children:["Popular",s.jsx("svg",{className:"places__sorting-arrow",width:7,height:4,children:s.jsx("use",{xlinkHref:"#icon-arrow-select"})})]}),s.jsxs("ul",{className:"places__options places__options--custom places__options--opened",children:[s.jsx("li",{className:"places__option places__option--active",tabIndex:0,children:"Popular"}),s.jsx("li",{className:"places__option",tabIndex:0,children:"Price: low to high"}),s.jsx("li",{className:"places__option",tabIndex:0,children:"Price: high to low"}),s.jsx("li",{className:"places__option",tabIndex:0,children:"Top rated first"})]})]});function v(e){return e[0].toUpperCase()+e.slice(1)}function y(e){return e!==1?"s":""}const w=({offer:e,onCardHover:a})=>{const{previewImage:c,price:n,title:i,isFavorite:l,type:r,isPremium:t,rating:d,id:_}=e;function j(){a==null||a(_)}function u(){a==null||a(null)}return s.jsxs("article",{className:"cities__card place-card",onMouseEnter:j,onMouseLeave:u,children:[t&&s.jsx("div",{className:"place-card__mark",children:s.jsx("span",{children:"Premium"})}),s.jsx("div",{className:"cities__image-wrapper place-card__image-wrapper",children:s.jsx(h,{to:`${p.Offer}/${_}`,children:s.jsx("img",{className:"place-card__image",src:c,width:260,height:200,alt:i})})}),s.jsxs("div",{className:"place-card__info",children:[s.jsxs("div",{className:"place-card__price-wrapper",children:[s.jsxs("div",{className:"place-card__price",children:[s.jsxs("b",{className:"place-card__price-value",children:["€",n]}),s.jsx("span",{className:"place-card__price-text",children:"/ night"})]}),s.jsxs("button",{className:`place-card__bookmark-button button ${l?"place-card__bookmark-button--active":""}`,type:"button",children:[s.jsx("svg",{className:"place-card__bookmark-icon",width:18,height:19,children:s.jsx("use",{xlinkHref:"#icon-bookmark"})}),s.jsx("span",{className:"visually-hidden",children:"To bookmarks"})]})]}),d&&s.jsx("div",{className:"place-card__rating rating",children:s.jsxs("div",{className:"place-card__stars rating__stars",children:[s.jsx("span",{style:{width:`${d/5*100}%`}}),s.jsx("span",{className:"visually-hidden",children:"Rating"})]})}),s.jsx("h2",{className:"place-card__name",children:s.jsx(h,{to:`${p.Offer}/${_}`,children:i})}),s.jsx("p",{className:"place-card__type",children:v(r)})]})]})},I=({offers:e,onCardHover:a})=>s.jsx(s.Fragment,{children:e.map(c=>s.jsx(w,{offer:c,onCardHover:a},c.id))}),E=new o.Icon({iconUrl:x.DEFAULT,iconSize:[40,40],iconAnchor:[20,40]}),P=new o.Icon({iconUrl:x.CURRENT,iconSize:[40,40],iconAnchor:[20,40]}),M=e=>{const{city:a,offers:c,hoveredOfferId:n}=e,i=m.useRef(null),l=b({mapRef:i,city:a});return m.useEffect(()=>{if(l){const r=o.layerGroup().addTo(l);return c.forEach(t=>{new o.Marker({lat:t.location.latitude,lng:t.location.longitude}).setIcon(n!==null&&t.id===n?P:E).addTo(r)}),()=>{l.removeLayer(r)}}},[l,c,n]),s.jsx("section",{className:"cities__map map",style:{height:N},ref:i})},T=({offers:e})=>{const[a,c]=m.useState(null);function n(l){c(l)}const i=e.length>0?e[0].city:void 0;return s.jsxs(s.Fragment,{children:[s.jsx(g,{children:s.jsx("title",{children:"6 cities"})}),s.jsx("h1",{className:"visually-hidden",children:"Cities"}),s.jsx(f,{}),s.jsx("div",{className:"cities",children:s.jsxs("div",{className:"cities__places-container container",children:[s.jsxs("section",{className:"cities__places places",children:[s.jsx("h2",{className:"visually-hidden",children:"Places"}),s.jsxs("b",{className:"places__found",children:[e.length," place",y(e.length)," to stay in Amsterdam"]}),s.jsx(k,{}),s.jsx("div",{className:"cities__places-list places__list tabs__content",children:s.jsx(I,{offers:e,onCardHover:n})})]}),s.jsx("div",{className:"cities__right-section",children:i?s.jsx(M,{city:i,offers:e,hoveredOfferId:a}):null})]})})]})};export{T as default};
